# ğŸ¯ æ¯æ—¥æ‰“å¡åº”ç”¨

> æœ€åæ›´æ–°ï¼š2025/1/10

ä¸€ä¸ªç°ä»£åŒ–çš„æ¯æ—¥æ‰“å¡åº”ç”¨ï¼ŒåŸºäº Next.js 13+ å’Œ Supabase æ„å»ºï¼Œæ”¯æŒ Google ç™»å½•å’Œè·¨è®¾å¤‡æ•°æ®åŒæ­¥ï¼Œå¸®åŠ©ä½ å…»æˆè‰¯å¥½çš„ä¹ æƒ¯ï¼Œè¿½è¸ªä¸ªäººæˆé•¿è¿›åº¦ã€‚

![é¡¹ç›®çŠ¶æ€](https://img.shields.io/badge/çŠ¶æ€-ç”Ÿäº§å°±ç»ª-brightgreen)
![æŠ€æœ¯æ ˆ](https://img.shields.io/badge/æŠ€æœ¯æ ˆ-Next.js%2BSupabase%2BPrisma-blue)
![ç‰ˆæœ¬](https://img.shields.io/badge/ç‰ˆæœ¬-v2.0.0-orange)
![éƒ¨ç½²](https://img.shields.io/badge/éƒ¨ç½²-Vercel-black)

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- **å¤šé¡¹ç›®æ‰“å¡**ï¼šæ”¯æŒèº«ä½“é”»ç‚¼ã€å­¦ä¹ æˆé•¿ã€ç²¾ç¥ä¿®å…»ç­‰å¤šä¸ªåˆ†ç±»
- **æ™ºèƒ½æ‰“å¡**ï¼šä¸€é”®æ‰“å¡ï¼Œæ”¯æŒæ’¤é”€æ“ä½œ
- **è¿›åº¦å¯è§†åŒ–**ï¼šå®æ—¶æ˜¾ç¤ºå½“æ—¥å®Œæˆåº¦å’Œè¿ç»­æ‰“å¡å¤©æ•°
- **å†å²è®°å½•**ï¼šå®Œæ•´çš„æ‰“å¡å†å²è®°å½•å’Œç»Ÿè®¡åˆ†æ
- **ä»»åŠ¡ç®¡ç†**ï¼šçµæ´»çš„ä»»åŠ¡åˆ†ç»„å’Œè‡ªå®šä¹‰é…ç½®

### ğŸ” ç”¨æˆ·è®¤è¯
- **Google ç™»å½•**ï¼šå®‰å…¨ä¾¿æ·çš„ OAuth 2.0 è®¤è¯
- **ä¼šè¯ç®¡ç†**ï¼šåŸºäºæ•°æ®åº“çš„ä¼šè¯å­˜å‚¨
- **ç”¨æˆ·æƒé™**ï¼šå®Œå–„çš„æƒé™æ§åˆ¶å’Œæ•°æ®éš”ç¦»
- **å®‰å…¨ä¿æŠ¤**ï¼šä¸­é—´ä»¶ä¿æŠ¤æ•æ„Ÿè·¯ç”±

### ğŸŒ æ•°æ®åŒæ­¥
- **äº‘ç«¯å­˜å‚¨**ï¼šåŸºäº Supabase PostgreSQL çš„å¯é å­˜å‚¨
- **å®æ—¶åŒæ­¥**ï¼šæ‰“å¡æ•°æ®å®æ—¶åŒæ­¥åˆ°äº‘ç«¯
- **è·¨è®¾å¤‡è®¿é—®**ï¼šä»»ä½•è®¾å¤‡ç™»å½• Google è´¦å·å³å¯è®¿é—®æ•°æ®
- **æ•°æ®è¿ç§»**ï¼šæ™ºèƒ½æ£€æµ‹å¹¶è¿ç§»æœ¬åœ°æ•°æ®åˆ°äº‘ç«¯
- **ç¦»çº¿æ”¯æŒ**ï¼šç½‘ç»œå¼‚å¸¸æ—¶è‡ªåŠ¨å›é€€åˆ°æœ¬åœ°å­˜å‚¨

### ğŸ¨ ç”¨æˆ·ä½“éªŒ
- **ç°ä»£åŒ–è®¾è®¡**ï¼šåŸºäº Tailwind CSS çš„ç²¾ç¾ç•Œé¢
- **å“åº”å¼å¸ƒå±€**ï¼šå®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- **æ·±è‰²æ¨¡å¼**ï¼šæ”¯æŒç³»ç»Ÿä¸»é¢˜è‡ªåŠ¨åˆ‡æ¢
- **æµç•…åŠ¨ç”»**ï¼šä¸°å¯Œçš„äº¤äº’åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœ
- **ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„ TypeScript ç±»å‹æ”¯æŒ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 18.0+
- npm æˆ– yarn
- Supabase è´¦æˆ·
- Google OAuth åº”ç”¨

### æœ¬åœ°å¼€å‘
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/sbguangha/daka.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd daka

# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env.local
# ç¼–è¾‘ .env.local æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„é…ç½®

# ç”Ÿæˆ Prisma å®¢æˆ·ç«¯
npx prisma generate

# åŒæ­¥æ•°æ®åº“ç»“æ„
npx prisma db push

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

è®¿é—® `http://localhost:3000` å¼€å§‹ä½¿ç”¨ã€‚

### ç¯å¢ƒå˜é‡é…ç½®
```bash
# .env.local
# NextAuth.js
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-secret-key

# Google OAuth
AUTH_GOOGLE_ID=your-google-client-id
AUTH_GOOGLE_SECRET=your-google-client-secret

# Supabase
NEXT_PUBLIC_SUPABASE_URL=your-supabase-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# Database
DATABASE_URL=your-supabase-database-url
DIRECT_URL=your-supabase-direct-url
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
daka/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js 13+ App Router
â”‚   â”‚   â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ page.tsx           # ä¸»é¡µé¢
â”‚   â”‚   â”œâ”€â”€ globals.css        # å…¨å±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ auth/              # è®¤è¯é¡µé¢
â”‚   â”‚   â””â”€â”€ api/               # API è·¯ç”±
â”‚   â”‚       â”œâ”€â”€ checkins/      # æ‰“å¡ API
â”‚   â”‚       â”œâ”€â”€ tasks/         # ä»»åŠ¡ API
â”‚   â”‚       â”œâ”€â”€ stats/         # ç»Ÿè®¡ API
â”‚   â”‚       â”œâ”€â”€ user/          # ç”¨æˆ· API
â”‚   â”‚       â”œâ”€â”€ migrate/       # æ•°æ®è¿ç§» API
â”‚   â”‚       â””â”€â”€ auth/          # è®¤è¯ API
â”‚   â”œâ”€â”€ components/            # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/               # åŸºç¡€ UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ layout/           # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ timesheet/        # æ‰“å¡ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ modals/           # æ¨¡æ€æ¡†ç»„ä»¶
â”‚   â”‚   â””â”€â”€ auth/             # è®¤è¯ç»„ä»¶
â”‚   â”œâ”€â”€ lib/                  # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ prisma.ts         # Prisma å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ api-client.ts     # API å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ auth-utils.ts     # è®¤è¯å·¥å…·
â”‚   â”‚   â””â”€â”€ utils.ts          # é€šç”¨å·¥å…·
â”‚   â”œâ”€â”€ hooks/                # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ store/                # çŠ¶æ€ç®¡ç† (Zustand)
â”‚   â”œâ”€â”€ types/                # TypeScript ç±»å‹
â”‚   â””â”€â”€ utils/                # å­˜å‚¨ç®¡ç†
â”œâ”€â”€ prisma/                   # æ•°æ®åº“ç›¸å…³
â”‚   â”œâ”€â”€ schema.prisma         # æ•°æ®åº“æ¨¡å‹
â”‚   â””â”€â”€ migrations/           # æ•°æ®åº“è¿ç§»
â”œâ”€â”€ public/                   # é™æ€èµ„æº
â”œâ”€â”€ docs/                     # æ–‡æ¡£ç›®å½•
â”œâ”€â”€ .env.local               # ç¯å¢ƒå˜é‡
â”œâ”€â”€ next.config.js           # Next.js é…ç½®
â”œâ”€â”€ tailwind.config.js       # Tailwind é…ç½®
â”œâ”€â”€ tsconfig.json            # TypeScript é…ç½®
â””â”€â”€ package.json             # é¡¹ç›®é…ç½®
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æ¡†æ¶
- **Next.js 14**ï¼šReact å…¨æ ˆæ¡†æ¶ï¼ŒApp Router
- **React 18**ï¼šç”¨æˆ·ç•Œé¢åº“
- **TypeScript**ï¼šç±»å‹å®‰å…¨çš„ JavaScript

### æ ·å¼å’ŒUI
- **Tailwind CSS**ï¼šåŸå­åŒ– CSS æ¡†æ¶
- **Radix UI**ï¼šæ— éšœç¢çš„ UI ç»„ä»¶åº“
- **Lucide React**ï¼šç²¾ç¾çš„å›¾æ ‡åº“
- **CSS Variables**ï¼šåŠ¨æ€ä¸»é¢˜æ”¯æŒ

### çŠ¶æ€ç®¡ç†
- **Zustand**ï¼šè½»é‡çº§çŠ¶æ€ç®¡ç†
- **React Hooks**ï¼šç»„ä»¶çŠ¶æ€ç®¡ç†

### æ•°æ®åº“å’Œåç«¯
- **Supabase**ï¼šå¼€æºçš„ Firebase æ›¿ä»£å“
- **PostgreSQL**ï¼šå…³ç³»å‹æ•°æ®åº“
- **æ··åˆæ•°æ®è®¿é—®**ï¼š
  - **Prisma**ï¼šè®¤è¯ç³»ç»Ÿï¼ˆNextAuth.jsï¼‰
  - **åŸç”ŸSQL**ï¼šä¸šåŠ¡APIï¼ˆé«˜æ€§èƒ½ï¼‰
- **è¿æ¥æ± **ï¼špgåº“è¿æ¥æ± ç®¡ç†

### è®¤è¯å’Œå®‰å…¨
- **Google OAuth 2.0**ï¼šå®‰å…¨çš„ç¬¬ä¸‰æ–¹ç™»å½•
- **JWT**ï¼šJSON Web Tokens
- **Middleware**ï¼šè·¯ç”±ä¿æŠ¤

### å¼€å‘å·¥å…·
- **ESLint**ï¼šä»£ç è´¨é‡æ£€æŸ¥
- **Prettier**ï¼šä»£ç æ ¼å¼åŒ–
- **Husky**ï¼šGit hooks
- **TypeScript**ï¼šé™æ€ç±»å‹æ£€æŸ¥

### éƒ¨ç½²å’Œæ‰˜ç®¡
- **Vercel**ï¼šå‰ç«¯éƒ¨ç½²å¹³å°
- **Supabase**ï¼šæ•°æ®åº“æ‰˜ç®¡
- **GitHub Actions**ï¼šCI/CD è‡ªåŠ¨åŒ–

## ğŸ“± æ”¯æŒçš„æµè§ˆå™¨

- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### é¦–æ¬¡ä½¿ç”¨
1. **è®¿é—®åº”ç”¨**ï¼šæ‰“å¼€ç½‘ç«™é¦–é¡µ
2. **Google ç™»å½•**ï¼šç‚¹å‡»ç™»å½•æŒ‰é’®ï¼Œä½¿ç”¨ Google è´¦å·ç™»å½•
3. **æ•°æ®è¿ç§»**ï¼šå¦‚æœæœ‰æœ¬åœ°æ•°æ®ï¼Œç³»ç»Ÿä¼šæç¤ºè¿ç§»åˆ°äº‘ç«¯
4. **å¼€å§‹æ‰“å¡**ï¼šé€‰æ‹©ä»»åŠ¡ç‚¹å‡»æ‰“å¡æŒ‰é’®

### åŸºæœ¬æ“ä½œ
1. **æ‰“å¡æ“ä½œ**ï¼šç‚¹å‡»ä»»åŠ¡å¡ç‰‡è¿›è¡Œæ‰“å¡/å–æ¶ˆæ‰“å¡
2. **æŸ¥çœ‹è¿›åº¦**ï¼šå®æ—¶æŸ¥çœ‹å½“æ—¥å®Œæˆè¿›åº¦
3. **å†å²è®°å½•**ï¼šæµè§ˆä¸åŒæ—¥æœŸçš„æ‰“å¡è®°å½•
4. **ç»Ÿè®¡åˆ†æ**ï¼šæŸ¥çœ‹è¿ç»­æ‰“å¡å¤©æ•°å’Œå®Œæˆç‡

### è·¨è®¾å¤‡åŒæ­¥
1. **ç™»å½•è´¦å·**ï¼šåœ¨ä»»ä½•è®¾å¤‡ä¸Šä½¿ç”¨ Google è´¦å·ç™»å½•
2. **è‡ªåŠ¨åŒæ­¥**ï¼šæ‰“å¡æ•°æ®è‡ªåŠ¨åŒæ­¥åˆ°äº‘ç«¯
3. **å®æ—¶æ›´æ–°**ï¼šæ‰€æœ‰è®¾å¤‡ä¸Šçš„æ•°æ®ä¿æŒåŒæ­¥
4. **ç¦»çº¿æ”¯æŒ**ï¼šç½‘ç»œå¼‚å¸¸æ—¶æ•°æ®ä¿å­˜åœ¨æœ¬åœ°

### æ•°æ®ç®¡ç†
1. **äº‘ç«¯å­˜å‚¨**ï¼šæ‰€æœ‰æ•°æ®å®‰å…¨å­˜å‚¨åœ¨ Supabase
2. **æ•°æ®è¿ç§»**ï¼šæœ¬åœ°æ•°æ®å¯ä¸€é”®è¿ç§»åˆ°äº‘ç«¯
3. **æ•°æ®å¯¼å‡º**ï¼šæ”¯æŒå¯¼å‡ºå¤‡ä»½æ•°æ®
4. **éšç§ä¿æŠ¤**ï¼šç”¨æˆ·æ•°æ®å®Œå…¨éš”ç¦»ï¼Œå®‰å…¨å¯é 

## ğŸ”§ å¼€å‘æŒ‡å—

### æ•°æ®åº“ç®¡ç†
```bash
# æŸ¥çœ‹æ•°æ®åº“çŠ¶æ€
npx prisma studio

# é‡ç½®æ•°æ®åº“
npx prisma db push --force-reset

# ç”Ÿæˆå®¢æˆ·ç«¯
npx prisma generate

# è¿è¡Œè¿ç§»
npx prisma migrate dev
```

### API è·¯ç”±
- `GET /api/tasks` - è·å–ä»»åŠ¡åˆ—è¡¨
- `POST /api/checkins` - åˆ›å»º/åˆ‡æ¢æ‰“å¡è®°å½•
- `GET /api/checkins` - è·å–æ‰“å¡è®°å½•
- `GET /api/stats` - è·å–ç»Ÿè®¡æ•°æ®
- `POST /api/migrate` - æ•°æ®è¿ç§»

### è‡ªå®šä¹‰ä»»åŠ¡
åœ¨ Supabase æ•°æ®åº“ä¸­ç›´æ¥æ·»åŠ ä»»åŠ¡ç»„å’Œä»»åŠ¡ï¼š

```sql
-- æ·»åŠ ä»»åŠ¡ç»„
INSERT INTO task_groups (title, description, theme, "order", is_default, is_active)
VALUES ('æ–°åˆ†ç±»', 'æè¿°', 'bg-gradient-to-r from-pink-500 to-rose-600 text-white', 4, true, true);

-- æ·»åŠ ä»»åŠ¡
INSERT INTO tasks (name, description, icon, "order", is_active, task_group_id)
VALUES ('æ–°ä»»åŠ¡', 'ä»»åŠ¡æè¿°', 'star', 1, true, 'task_group_id');
```

### ç¯å¢ƒé…ç½®
- å¼€å‘ç¯å¢ƒï¼š`npm run dev`
- ç”Ÿäº§æ„å»ºï¼š`npm run build`
- ç±»å‹æ£€æŸ¥ï¼š`npm run type-check`
- ä»£ç æ£€æŸ¥ï¼š`npm run lint`

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ MIT åè®® - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸš€ éƒ¨ç½²

### Vercel éƒ¨ç½²
1. Fork æœ¬é¡¹ç›®åˆ°ä½ çš„ GitHub
2. åœ¨ Vercel ä¸­å¯¼å…¥é¡¹ç›®
3. é…ç½®ç¯å¢ƒå˜é‡
4. è‡ªåŠ¨éƒ¨ç½²å®Œæˆ

### ç¯å¢ƒå˜é‡è®¾ç½®
åœ¨ Vercel é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š
- `NEXTAUTH_URL`
- `NEXTAUTH_SECRET`
- `AUTH_GOOGLE_ID`
- `AUTH_GOOGLE_SECRET`
- `DATABASE_URL`
- `DIRECT_URL`

## ğŸ™ è‡´è°¢

- [Next.js](https://nextjs.org/) - å¼ºå¤§çš„ React æ¡†æ¶
- [Supabase](https://supabase.com/) - å¼€æºçš„ Firebase æ›¿ä»£å“
- [Prisma](https://prisma.io/) - ç°ä»£åŒ–çš„æ•°æ®åº“å·¥å…·
- [NextAuth.js](https://next-auth.js.org/) - è®¤è¯è§£å†³æ–¹æ¡ˆ
- [Tailwind CSS](https://tailwindcss.com/) - åŸå­åŒ– CSS æ¡†æ¶
- [Radix UI](https://radix-ui.com/) - æ— éšœç¢ UI ç»„ä»¶
- [Lucide](https://lucide.dev/) - ç²¾ç¾çš„å›¾æ ‡åº“
- [Zustand](https://zustand-demo.pmnd.rs/) - è½»é‡çº§çŠ¶æ€ç®¡ç†
- æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·çš„æ”¯æŒ

## ğŸ“ è”ç³»æ–¹å¼

- ä½œè€…ï¼šè‘›å‹‡æ”€
- é‚®ç®±ï¼š2577388908@qq.com
- GitHubï¼š[@sbguangha](https://github.com/sbguangha)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼
